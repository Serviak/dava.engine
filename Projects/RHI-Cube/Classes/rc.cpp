/*-------------------------------------------------------------------------------------------------
file:   rc.cpp
author: Mosiychuck Dmitry
dsc:
-------------------------------------------------------------------------------------------------*/
#include "rc.h"
//#include "framework.h"

///////////////////////////////////////////////////////////////////////////////////////////////////
CRC_::CRC_(void)
    :
    m_id_err(ERR_OK)
    , m_resolved(false)
{
}

///////////////////////////////////////////////////////////////////////////////////////////////////
CRC_::CRC_(ERR_ID id_err)
    :
    m_id_err(id_err)
    , m_resolved(false)
{
}

///////////////////////////////////////////////////////////////////////////////////////////////////
CRC_::CRC_(CRC_& r)
    :
    m_id_err(r.m_id_err)
    , m_resolved(false)
{
    r.Resolve();
}

///////////////////////////////////////////////////////////////////////////////////////////////////
CRC_& CRC_::operator=(CRC_& r)
{
    if (!m_resolved)
    {
        ///     FATALERROR(ERR_BADOP);
    }

    m_id_err = r.m_id_err;
    m_resolved = false;

    r.Resolve();

    return *this;
}

///////////////////////////////////////////////////////////////////////////////////////////////////
CRC_::~CRC_(void)
{
    /*
    if(!m_resolved)
    {
        if(!CFramework::EmergancyShutDown())
        {
            FATALERROR(ERR_BADOP);
        }
    }
*/
}

///////////////////////////////////////////////////////////////////////////////////////////////////
void CRC_::Resolve(void)
{
    m_resolved = true;
}
