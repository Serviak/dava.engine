#include "ModuleManager/ModuleManager.h"
#include "ModuleManager/IModule.h"

@IMODULE_INCLUDES@

namespace DAVA
{

@IMODULE_INIT_POINTERS@
@IMODULE_GET_MODULE_CODE@
    ModuleManager::ModuleManager()
    {
        pointersToModules.reset( new PointersToModules );

@IMODULE_INIT_CODE@
        for (IModule* module : modules)
        {
            module->PostInit();
        }
    }

    ModuleManager::~ModuleManager()
    {
        for (const auto& module : modules)
        {
            module->Shutdown();
            delete module;
        }
        modules.clear();
    }    
}